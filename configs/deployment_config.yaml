# Deployment Configuration

# API Settings
api:
  title: "Cancer Prediction API"
  description: "MLOps API for breast cancer diagnosis prediction using ensemble machine learning"
  version: "1.0.0"
  host: "0.0.0.0"
  port: 8000
  workers: 4
  reload: false
  log_level: "info"

  cors:
    enabled: true
    allow_origins: ["*"]
    allow_credentials: true
    allow_methods: ["*"]
    allow_headers: ["*"]

  rate_limiting:
    enabled: true
    requests_per_minute: 100

# Model Serving
model_serving:
  model_name: "hybrid_ensemble"
  model_version: "latest"
  model_path: "models/hybrid_ensemble"
  batch_size: 32
  timeout: 30

  prediction:
    return_probabilities: true
    return_confidence: true
    confidence_threshold: 0.5

# Health Check
health_check:
  enabled: true
  endpoint: "/health"
  interval: 30

# Monitoring
monitoring:
  enabled: true
  metrics_endpoint: "/metrics"

  prometheus:
    enabled: true
    port: 9090

  logging:
    request_logging: true
    response_logging: true
    error_logging: true
    performance_logging: true

# Docker Configuration
docker:
  image_name: "cancer-mlops-api"
  tag: "latest"
  base_image: "python:3.9-slim"

  ports:
    - "8000:8000"
    - "9090:9090"

  volumes:
    - "./models:/app/models"
    - "./logs:/app/logs"

  environment:
    - "APP_ENV=production"
    - "LOG_LEVEL=INFO"

# Kubernetes Configuration (optional)
kubernetes:
  replicas: 3
  resources:
    requests:
      cpu: "500m"
      memory: "512Mi"
    limits:
      cpu: "1000m"
      memory: "1Gi"

  autoscaling:
    enabled: true
    min_replicas: 2
    max_replicas: 10
    target_cpu_utilization: 70

# Security
security:
  api_key_enabled: false
  jwt_enabled: false
  https_only: false
  input_validation: true
  sanitize_inputs: true
